name: frr01

topology:
  nodes:
    r101:
      kind: linux
      image: frr-854-dev
      binds:
        - r101/daemons:/etc/frr/daemons
        - r101/frr.conf:/etc/frr/frr.conf
        - r101/vtysh.conf:/etc/frr/vtysh.conf
        - ../src:/app/src
        - ../local:/app/local
        - ../protobufSource:/app/protobufSource
    r102:
      kind: linux
      image: frr-854-dev
      binds:
        - r102/daemons:/etc/frr/daemons
        - r102/frr.conf:/etc/frr/frr.conf
        - ../src:/app/src
        - ../local:/app/local
        - ../protobufSource:/app/protobufSource
    r103:
      kind: linux
      image: frr-854
      binds:
        - r103/daemons:/etc/frr/daemons
        - r103/frr.conf:/etc/frr/frr.conf
    cr104:
      kind: linux
      image: frr-854
      binds:
        - cr104/daemons:/etc/frr/daemons
        - cr104/frr.conf:/etc/frr/frr.conf
    cr105:
      kind: linux
      image: frr-854
      binds:
        - cr105/daemons:/etc/frr/daemons
        - cr105/frr.conf:/etc/frr/frr.conf

    cr106:
      kind: linux
      image: frr-854
      binds:
        - cr106/daemons:/etc/frr/daemons
        - cr106/frr.conf:/etc/frr/frr.conf

    cr107:
      kind: linux
      image: frr-854
      binds:
        - cr107/daemons:/etc/frr/daemons
        - cr107/frr.conf:/etc/frr/frr.conf

    cr108:
      kind: linux
      image: frr-854
      binds:
        - cr108/daemons:/etc/frr/daemons
        - cr108/frr.conf:/etc/frr/frr.conf

    cr109:
      kind: linux
      image: frr-854
      binds:
        - cr109/daemons:/etc/frr/daemons
        - cr109/frr.conf:/etc/frr/frr.conf

    r111:
      kind: linux
      image: frr-854
      binds:
        - r111/daemons:/etc/frr/daemons
        - r111/frr.conf:/etc/frr/frr.conf
    r112:
      kind: linux
      image: frr-854
      binds:
        - r112/daemons:/etc/frr/daemons
        - r112/frr.conf:/etc/frr/frr.conf
    r121:
      kind: linux
      image: frr-854
      binds:
        - r121/daemons:/etc/frr/daemons
        - r121/frr.conf:/etc/frr/frr.conf
#        - r121/vtysh.conf:/etc/frr/vtysh.conf
    r122:
      kind: linux
      image: frr-854
      binds:
        - r122/daemons:/etc/frr/daemons
        - r122/frr.conf:/etc/frr/frr.conf
    r131:
      kind: linux
      image: frr-854
      binds:
        - r131/daemons:/etc/frr/daemons
        - r131/frr.conf:/etc/frr/frr.conf
    r191:
      kind: linux
      image: frr-854
      binds:
        - r191/daemons:/etc/frr/daemons
        - r191/frr.conf:/etc/frr/frr.conf
    r301:
      kind: linux
      image: frr-854
      binds:
        - r301/daemons:/etc/frr/daemons
        - r301/frr.conf:/etc/frr/frr.conf
    r302:
      kind: linux
      image: frr-854
      binds:
        - r302/daemons:/etc/frr/daemons
        - r302/frr.conf:/etc/frr/frr.conf
    r391:
      kind: linux
      image: frr-854
      binds:
        - r391/daemons:/etc/frr/daemons
        - r391/frr.conf:/etc/frr/frr.conf
    
    r201:
      kind: linux
      image: frr-854
      binds:
        - r201/daemons:/etc/frr/daemons
        - r201/frr.conf:/etc/frr/frr.conf

    r202:
      kind: linux
      image: frr-854
      binds:
        - r202/daemons:/etc/frr/daemons
        - r202/frr.conf:/etc/frr/frr.conf

    pc101:
      kind: linux
      image: praqma/network-multitool:latest

    cpc104:
      kind: linux
      image: praqma/network-multitool:latest

    cpc105:
      kind: linux
      image: praqma/network-multitool:latest

    cpc106:
      kind: linux
      image: praqma/network-multitool:latest

    cpc107:
      kind: linux
      image: praqma/network-multitool:latest

    cpc108:
      kind: linux
      image: praqma/network-multitool:latest

    cpc109:
      kind: linux
      image: praqma/network-multitool:latest

    pc111:
      kind: linux
      image: praqma/network-multitool:latest

    pc121:
      kind: linux
      image: praqma/network-multitool:latest

    pc131:
      kind: linux
      image: praqma/network-multitool:latest

    pc191:
      kind: linux
      image: praqma/network-multitool:latest

    pc201:
      kind: linux
      image: praqma/network-multitool:latest

    pc301:
      kind: linux
      image: praqma/network-multitool:latest

    pc391:
      kind: linux
      image: praqma/network-multitool:latest

  links:
    - endpoints: ["r101:eth1", "r201:eth1"]
    - endpoints: ["r101:eth2", "r102:eth1"]
    - endpoints: ["r101:eth3", "r103:eth1"]
    - endpoints: ["r101:eth4", "pc101:eth1"]
    - endpoints: ["r101:eth5", "r191:eth1"]
    - endpoints: ["r101:eth6", "cr104:eth1"]
    - endpoints: ["r101:eth7", "cr105:eth1"]
    - endpoints: ["r101:eth8", "cr106:eth1"]
    - endpoints: ["r101:eth9", "cr107:eth1"]
    - endpoints: ["r101:eth10", "cr108:eth1"]
    - endpoints: ["r101:eth11", "cr109:eth1"]
    - endpoints: ["r102:eth2", "r103:eth2"]
    - endpoints: ["r102:eth3", "r111:eth1"]
    - endpoints: ["cr104:eth2", "cpc104:eth1"]
    - endpoints: ["cr105:eth2", "cpc105:eth1"]
    - endpoints: ["cr106:eth2", "cpc106:eth1"]
    - endpoints: ["cr107:eth2", "cpc107:eth1"]
    - endpoints: ["cr108:eth2", "cpc108:eth1"]
    - endpoints: ["cr109:eth2", "cpc109:eth1"]
    - endpoints: ["r111:eth2", "pc111:eth1"]
    - endpoints: ["r111:eth3", "r112:eth1"]
    - endpoints: ["r112:eth2", "r301:eth1"]
    - endpoints: ["r103:eth3", "r121:eth1"]
    - endpoints: ["r121:eth3", "pc121:eth1"]
    - endpoints: ["r121:eth2", "r122:eth1"]
    - endpoints: ["r122:eth2", "r131:eth1"]
    - endpoints: ["r131:eth2", "pc131:eth1"]
    - endpoints: ["r191:eth2", "pc191:eth1"]
    - endpoints: ["r201:eth2", "r202:eth1"]
    - endpoints: ["r202:eth2", "pc201:eth1"]
    - endpoints: ["r301:eth2", "r302:eth1"]
    - endpoints: ["r301:eth3", "r391:eth1"]
    - endpoints: ["r302:eth2", "pc301:eth1"]
    - endpoints: ["r391:eth2", "pc391:eth1"]
